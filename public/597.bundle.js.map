{"version":3,"sources":["webpack://ecommerce/./src/functions/product.js","webpack://ecommerce/./src/pages/product-details/product-details.scss?7e6f","webpack://ecommerce/./src/pages/product-details/ProductDetails.jsx","webpack://ecommerce/./src/pages/product-details/product-details.scss"],"names":["REACT_APP_API","getProducts","axios","getProductsById","id","options","useParams","useState","details","setDetails","dispatch","useDispatch","useEffect","then","res","info","data","amiibo","finalPrice","Box","className","Grid","container","spacing","width","item","xs","sm","md","lg","Card","CardMedia","component","height","sx","objectFit","image","alt","name","CardContent","Typography","gutterBottom","variant","Button","onClick","cart","window","localStorage","getItem","JSON","parse","push","count","unique","_","setItem","stringify","type","payload","toast","handleAddToCart","___CSS_LOADER_EXPORT___","module"],"mappings":"sfAEA,IAAIA,EAAc,iCAELC,EAAW,4CAAG,6GACnBC,QAAA,UAAaF,EAAb,aADmB,mFAAH,qDAGTG,EAAe,4CAAG,WAAOC,GAAP,gGACzBF,QAAA,UAAaF,EAAb,uBAAyCI,IADhB,mFAAH,uD,0iCCCjB,IAAI,IALH,CAEdC,OAAiB,OACjBA,WAAoB,IAML,WCGf,IAwFA,EAxFuB,WAEnB,I,IAAMD,GAAOE,UAAPF,GACN,G,GAA8BG,cAAS,I,EAAvC,E,8zBAAOC,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,UA0CjB,OAxCAC,gBAAU,YACNT,OAAgBC,GAAIS,MAAK,SAACC,GACtB,IAAIC,EAAOD,EAAIE,KAAKC,OACpBF,EAAKG,WAAY,IACjBT,EAAWM,QAEjB,CAACX,IAmCC,gBAACe,EAAA,EAAD,CAAKC,UAAU,6BACX,gBAACC,EAAA,GAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,MAAM,OAC9B,gBAACH,EAAA,GAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GACnC,gBAACC,EAAA,EAAD,CAAMV,UAAU,qBACZ,gBAACW,EAAA,EAAD,CACIX,UAAU,gBACVY,UAAU,MACVC,OAAO,MACPC,GAAI,CAACC,UAAW,WAChBC,MAAO5B,EAAQ4B,MACfC,IAAK7B,EAAQ8B,SAIzB,gBAACjB,EAAA,GAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GACnC,gBAACU,EAAA,EAAD,KACI,gBAACC,EAAA,EAAD,CAAYC,cAAY,EAACC,QAAQ,KAAKV,UAAU,OAC3CxB,EAAQ8B,MAEb,2BACA,gBAACnB,EAAA,EAAD,CAAKC,UAAU,mBACX,gBAACoB,EAAA,EAAD,CAAYR,UAAU,OAClB,gBAACb,EAAA,EAAD,CAAKC,UAAU,eAAf,KACGZ,EAAQU,YAEX,gBAACyB,EAAA,EAAD,CACID,QAAQ,YACRtB,UAAU,yBACVwB,QAAS,kBA7DjB,WACpB,IAAIC,EAAO,GACX,GAAsB,oBAAXC,OAAwB,CAE3BC,aAAaC,QAAQ,UACrBH,EAAOI,KAAKC,MAAMH,aAAaC,QAAQ,UAG3CH,EAAKM,KAAL,OACO3C,GADP,IAEI4C,MAAO,KAGX,IAAIC,EAASC,aAAWT,EAAKS,aAE7BP,aAAaQ,QAAQ,OAAQN,KAAKO,UAAUH,IAI5C3C,EAAS,CACL+C,KAAM,cACNC,QAASL,IAGb3C,EAAS,CACL+C,KAAM,cACNC,SAAS,IAEbC,aAAc,wBAiCyBC,KAHnB,4B,sECpF5BC,E,MAA0B,GAA4B,KAE1DA,EAAwBV,KAAK,CAACW,EAAO1D,GAAI,iSAAkS,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,8DAA8D,MAAQ,GAAG,SAAW,gIAAgI,eAAiB,CAAC,0ZAA0Z,WAAa,MAEn/B","file":"597.bundle.js","sourcesContent":["import axios from \"axios\";\r\n\r\nlet REACT_APP_API='https://www.amiiboapi.com/api/'\r\n\r\nexport const getProducts = async () =>\r\n  await axios.get(`${REACT_APP_API}/amiibo/`);\r\n\r\n  export const getProductsById = async (id) =>\r\n  await axios.get(`${REACT_APP_API}/amiibo/?id=${id}`);\r\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./product-details.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React,{ useEffect, useState } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getProductsById } from '../../functions/product';\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nimport Grid from '@mui/material/Grid';\r\nimport { toast } from \"react-toastify\";\r\nimport _ from \"lodash\";\r\nimport './product-details.scss'\r\n\r\nconst ProductDetails = () => {\r\n\r\n    let { id } = useParams();\r\n    const [details, setDetails] = useState([]);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        getProductsById(id).then((res) => {\r\n            let info = res.data.amiibo;\r\n            info.finalPrice =8000\r\n            setDetails(info)\r\n        })\r\n    },[id])\r\n\r\n    const handleAddToCart = () => {\r\n        let cart = [];\r\n        if (typeof window !== \"undefined\") {\r\n            // if cart is in local storage GET it\r\n            if (localStorage.getItem(\"cart\")) {\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n            }\r\n            // push new product to cart\r\n            cart.push({\r\n                ...details,\r\n                count: 1,\r\n            });\r\n            // remove duplicates\r\n            let unique = _.uniqWith(cart,_.isEqual);\r\n            // save to local storage\r\n            localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n            // show tooltip\r\n            //setTooltip(\"Added\");\r\n            // add to redux state\r\n            dispatch({\r\n                type: \"ADD_TO_CART\",\r\n                payload: unique,\r\n            });\r\n            // show cart items in side drawer\r\n            dispatch({\r\n                type: \"SET_VISIBLE\",\r\n                payload: true,\r\n            });\r\n            toast.success(\"Agregado al carrito\");\r\n        }\r\n    };\r\n\r\n    return(\r\n        <Box className=\"product-details-container\">\r\n            <Grid container spacing={2} width=\"90%\">\r\n                <Grid item xs={12} sm={12} md={12} lg={6}>\r\n                    <Card className=\"cart-item-details\">\r\n                        <CardMedia\r\n                            className=\"image-details\"\r\n                            component=\"img\"\r\n                            height=\"500\"\r\n                            sx={{objectFit: 'contain'}}\r\n                            image={details.image}\r\n                            alt={details.name}\r\n                        />\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} sm={12} md={12} lg={4} >\r\n                    <CardContent>\r\n                        <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n                            {details.name}\r\n                        </Typography>\r\n                        <hr />\r\n                        <Box className=\"price-contender\">\r\n                            <Typography component=\"div\">\r\n                                <Box className=\"final-price\">\r\n                                $ {details.finalPrice}\r\n                                </Box>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    className=\"btn-add-to-cart-button\"\r\n                                    onClick={() => handleAddToCart()}\r\n                                >\r\n                                    Agregar al carro\r\n                                </Button>\r\n                            </Typography>\r\n                        </Box>        \r\n                    </CardContent>\r\n                </Grid>  \r\n            </Grid>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ProductDetails","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".product-details-container{padding-top:2rem;display:flex;justify-content:center}.cart-item-details{background-color:#d8d8d8}.image-details{padding:2rem}.btn-add-to-cart-button{margin-top:5rem;background:#000000 !important}.btn-add-to-cart-button:hover{background:#00000096 !important}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/product-details/product-details.scss\"],\"names\":[],\"mappings\":\"AAAA,2BACI,gBAAiB,CACjB,YAAa,CACb,sBAAuB,CAC1B,mBAEG,wBAAyB,CAC5B,eAEG,YAAa,CAChB,wBAEG,eAAgB,CAChB,6BAA8B,CACjC,8BAEG,+BAAgC\",\"sourcesContent\":[\".product-details-container {\\r\\n    padding-top: 2rem;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n}\\r\\n.cart-item-details {\\r\\n    background-color: #d8d8d8;\\r\\n}\\r\\n.image-details {\\r\\n    padding: 2rem;\\r\\n}\\r\\n.btn-add-to-cart-button {\\r\\n    margin-top: 5rem;\\r\\n    background: #000000 !important;\\r\\n}\\r\\n.btn-add-to-cart-button:hover {\\r\\n    background: #00000096 !important;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"sourceRoot":""}