(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[525],{32525:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(67294),a=n(84751),o=(n(95097),n(12940)),l=n(65295),i=n(71508),c=n(15725),u=n(76914),d=n(46974),s=n(96486),m=n.n(s),p=n(93379),f=n.n(p),b=n(65302);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}f()(b.Z,{insert:"head",singleton:!1}),b.Z.locals;var C=function(e){var t=e.history,n=g((0,r.useState)([]),2),s=n[0],p=n[1],f=g((0,r.useState)(0),2),b=f[0],v=f[1],A=g((0,r.useState)({name:"",phone:"",email:"",address:""}),2),y=A[0],C=A[1],E=g((0,r.useState)({}),2),B=E[0],k=E[1],O=(0,a.I0)(),w=(0,a.v9)((function(e){return h({},e)})).cart,S=(0,a.v9)((function(e){return h({},e)})).checkout,j=g((0,r.useState)(!0),2),Z=j[0],D=j[1],P=g((0,r.useState)(),2),x=P[0],I=P[1],N=g((0,r.useState)(),2),T=N[0],_=N[1],G=g((0,r.useState)(),2),V=G[0],R=G[1],z=g((0,r.useState)(),2),U=z[0],Y=z[1];(0,r.useEffect)((function(){if(w){p(w);var e=w.reduce((function(e,t){return e+t.count*t.finalPrice}),0);v(e)}}),[w]),(0,r.useEffect)((function(){var e,t,n,r,a,o,l,i,c,u,d,s,m,p,f,b;I(null===(e=S[0])||void 0===e||null===(t=e.comprador)||void 0===t?void 0:t.name),_(null===(n=S[0])||void 0===n||null===(r=n.comprador)||void 0===r?void 0:r.phone),R(null===(a=S[0])||void 0===a||null===(o=a.comprador)||void 0===o?void 0:o.email),Y(null===(l=S[0])||void 0===l||null===(i=l.comprador)||void 0===i?void 0:i.address),C(h(h({},y),{},{name:null===(c=S[0])||void 0===c||null===(u=c.comprador)||void 0===u?void 0:u.name,phone:null===(d=S[0])||void 0===d||null===(s=d.comprador)||void 0===s?void 0:s.phone,email:null===(m=S[0])||void 0===m||null===(p=m.comprador)||void 0===p?void 0:p.email,address:null===(f=S[0])||void 0===f||null===(b=f.comprador)||void 0===b?void 0:b.address})),D(!1)}),[S]);return Z?null:r.createElement(i.Z,{className:"main-payment-container"},r.createElement(l.Z,{className:"checkout-container"},r.createElement(c.ZP,{container:!0,spacing:4,padding:5},r.createElement(c.ZP,{item:!0,xs:12,sm:12,md:12,lg:12},r.createElement("h4",null,"Datos del comprador"),r.createElement("hr",null),r.createElement(i.Z,{sx:{"& > :not(style)":{width:"100%"}}},r.createElement(d.Z,{defaultValue:x||"",error:!!B.name,id:"standard-basic",label:"Nombre",variant:"standard",onChange:function(e){return C(h(h({},y),{},{name:e.target.value}))}}),r.createElement(d.Z,{defaultValue:T||"",error:!!B.phone,id:"standard-basic",label:"Teléfono",variant:"standard",onChange:function(e){return C(h(h({},y),{},{phone:e.target.value}))}}),r.createElement(d.Z,{defaultValue:V||"",error:!!B.email,id:"standard-basic",label:"Correo",variant:"standard",onChange:function(e){return C(h(h({},y),{},{email:e.target.value}))}}),r.createElement(d.Z,{defaultValue:U||"",error:!!B.address,id:"standard-basic",label:"Dirección de entrega",variant:"standard",onChange:function(e){return C(h(h({},y),{},{address:e.target.value}))}})),r.createElement("br",null),r.createElement("br",null),r.createElement("br",null),r.createElement("h4",null,"Resumen del pedido"),r.createElement("hr",null),r.createElement("p",null,"Products ",s.length),r.createElement("hr",null),s.map((function(e,t){return r.createElement(i.Z,{key:t},r.createElement("p",null,e.name," (",e.color,") x ",e.count," ="," ",e.finalPrice*e.count))})),r.createElement("hr",null),r.createElement("p",null,"Cart Total: ",b),r.createElement(i.Z,{className:"btn-order-summary"},r.createElement(i.Z,{className:"box-btn-order"},r.createElement(u.Z,{onClick:function(){return function(){var e={};if(y.name&&y.phone&&y.email&&y.address)if(function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(y.email)){var n={comprador:y,products:s},r=[];if("undefined"!=typeof window){localStorage.getItem("checkout")&&(r=JSON.parse(localStorage.getItem("checkout"))),0===r.length?r.push(h(h({},n),{},{count:1})):s.map((function(e){0===r[0].products.filter((function(t){return t.tail===e.tail})).length&&r[0].products.push(h(h({},e),{},{count:1}))}));var a=m().uniqWith(r,m().isEqual);localStorage.setItem("checkout",JSON.stringify(a)),O({type:"ADD_TO_CHECKOUT",payload:a}),t.push("/payment")}}else e.email=!0,o.Am.error("Debe ingresar un correo válido.");else y.name||(e.name=!0),y.phone||(e.phone=!0),y.email||(e.email=!0),y.address||(e.address=!0),o.Am.error("Debe completar la información solicitada.");k(e)}()},variant:"contained",className:"btn-order-button",disabled:!s.length},"Realizar pedido")),r.createElement(i.Z,{className:"btn-empty-cart"},r.createElement(u.Z,{variant:"contained",disabled:!s.length,onClick:function(){"undefined"!=typeof window&&(localStorage.removeItem("cart"),localStorage.removeItem("checkout")),O({type:"ADD_TO_CART",payload:[]}),O({type:"ADD_TO_CHECKOUT",payload:[]})},className:"btn-empty-cart"},"Vaciar carro")))))))}},65302:function(e,t,n){"use strict";var r=n(94015),a=n.n(r),o=n(23645),l=n.n(o)()(a());l.push([e.id,".main-payment-container{display:flex;justify-content:center;padding-top:4rem;padding-bottom:6rem}.checkout-container{display:flex;justify-content:center;align-items:center;min-width:50%;padding-bottom:2rem}.btn-show-address{margin-top:1rem}.btn-order-summary{display:flex}.box-btn-order{margin-right:1rem}.btn-order-button{background:#000000 !important}.btn-order-button:hover{background:#00000096 !important}\n","",{version:3,sources:["webpack://./src/pages/checkout/checkout.scss"],names:[],mappings:"AAAA,wBACI,YAAa,CACb,sBAAuB,CACvB,gBAAiB,CACjB,mBAAoB,CACvB,oBAEG,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CACnB,aAAc,CACd,mBAAoB,CACvB,kBAEG,eAAgB,CACnB,mBAEG,YAAa,CAChB,eAEG,iBAAkB,CACrB,kBAEC,6BAA8B,CAC/B,wBAEG,+BAAgC",sourcesContent:[".main-payment-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    padding-top: 4rem;\r\n    padding-bottom: 6rem;\r\n}\r\n.checkout-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    min-width: 50%;\r\n    padding-bottom: 2rem;\r\n}\r\n.btn-show-address {\r\n    margin-top: 1rem;\r\n}\r\n.btn-order-summary {\r\n    display: flex;\r\n}\r\n.box-btn-order {\r\n    margin-right: 1rem;\r\n}\r\n.btn-order-button {\r\n  background: #000000 !important;\r\n}\r\n.btn-order-button:hover {\r\n    background: #00000096 !important;\r\n}\r\n"],sourceRoot:""}]),t.Z=l}}]);
//# sourceMappingURL=525.bundle.js.map